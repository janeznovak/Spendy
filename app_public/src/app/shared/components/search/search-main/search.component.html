<app-navbar-main></app-navbar-main>

<main>
    <app-navbar-avatar-and-choose-group></app-navbar-avatar-and-choose-group>

    <div class="container-fluid bg-grey px-3" id="content">
        <section class="bg-light py-3">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-9 col-md-8">
                        <h1 class="font-weight-bold mb-0">NASLOV</h1>
                        <p class="lead text-muted">PODNASLOV</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="content" class="container search bg-grey px-3 mb-3">
        <div class="container-fluid">
            <div class="input-group mb-3">
                <input
                    type="text"
                    id="searchLogin"
                    class="form-control"
                    placeholder="Isci po dohodkih/odhodkih"
                    aria-label="Recipient's username"
                    aria-describedby="basic-addon2"
                    [(ngModel)]="search"
                />
                <div class="input-group-append">
                    <button class="btn btn-primary" (click)="filterActivities(p, query, search)" type="button">
                        <i class="fa fa-search"></i>Search
                    </button>
                </div>
            </div>
            <div class="row mx-0">
                <div class="mr-auto">
                    <div class="dropdown">
                        <button
                            class="btn btn-primary dropdown-toggle"
                            type="button"
                            id="dropdownMenuButton"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false"
                        >
                            Sortiraj
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <button class="dropdown-item" (click)="filterActivities(p, 'isExpenditure=true', search)">
                                Odhodki
                            </button>
                            <button class="dropdown-item" (click)="filterActivities(p, 'isExpenditure=false', search)">
                                Prihodki
                            </button>
                            <button class="dropdown-item" (click)="filterActivities(p, 'date=desc', search)">
                                Datum
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <section class="bg-mix py-3">
            <div
                class="container-fluid"
                *ngFor="let aktivnost of expenses | paginate: { itemsPerPage: 4, currentPage: p, totalItems: count }"
            >
                <app-expense *ngIf="aktivnost" [aktivnost]="aktivnost"></app-expense>
            </div>

            <div class="paginate">
                <pagination-controls (pageChange)="inc($event)" autoHide="true"></pagination-controls>
            </div>
        </section>
    </div>
</main>
